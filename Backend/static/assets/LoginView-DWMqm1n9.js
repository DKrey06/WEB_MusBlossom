import{_ as v,c as d,a as s,h as _,i as u,v as m,t as c,g as w,f as g,b,w as h,u as y,e as L,j as a,k as V,o as f}from"./index-CAI9DG47.js";const k={name:"LoginView",setup(){const t=V(),o=y(),n=a({email:"",password:""}),e=a(!1),r=a(null);return{form:n,loading:e,error:r,handleLogin:async()=>{e.value=!0,r.value=null;try{const l=await o.login(n.value.email,n.value.password);l.success?(console.log("Login successful, redirecting..."),t.push("/")):r.value=l.error||"Ошибка входа"}catch(l){console.error("Login error:",l),r.value="Ошибка соединения с сервером"}finally{e.value=!1}}}}},x={class:"login-view"},N={class:"login-container"},S={class:"login-left"},B={class:"form-group"},C=["disabled"],q={class:"form-group"},D=["disabled"],E={key:0,class:"error-message"},M=["disabled"],T={class:"login-footer"};function U(t,o,n,e,r,p){const l=L("router-link");return f(),d("div",x,[s("div",N,[s("div",S,[o[7]||(o[7]=s("div",{class:"login-header"},[s("h1",null,"Вход в аккаунт"),s("p",null,"Введите пароль и логин для входа")],-1)),s("form",{onSubmit:o[2]||(o[2]=_((...i)=>e.handleLogin&&e.handleLogin(...i),["prevent"])),class:"login-form"},[s("div",B,[o[3]||(o[3]=s("label",{for:"email"},"Email",-1)),u(s("input",{type:"email",id:"email","onUpdate:modelValue":o[0]||(o[0]=i=>e.form.email=i),placeholder:"your@email.com",required:"",disabled:e.loading},null,8,C),[[m,e.form.email]])]),s("div",q,[o[4]||(o[4]=s("label",{for:"password"},"Пароль",-1)),u(s("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=i=>e.form.password=i),placeholder:"••••••••",required:"",disabled:e.loading},null,8,D),[[m,e.form.password]])]),e.error?(f(),d("div",E,c(e.error),1)):w("",!0),s("button",{type:"submit",class:"btn-login",disabled:e.loading},c(e.loading?"Вход...":"Войти"),9,M),s("div",T,[s("p",null,[o[6]||(o[6]=g("Нет аккаунта? ",-1)),b(l,{to:"/register"},{default:h(()=>[...o[5]||(o[5]=[g("Зарегистрироваться",-1)])]),_:1})])])],32)])])])}const A=v(k,[["render",U],["__scopeId","data-v-3d318791"]]);export{A as default};
