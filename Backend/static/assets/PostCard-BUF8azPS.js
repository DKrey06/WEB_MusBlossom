import{_ as g,c as i,a as t,t as n,f as r,F as u,r as _,k as h,h as v,v as k,x as C,o as l}from"./index-V0CKEUNY.js";const w={name:"PostCard",props:{post:{type:Object,required:!0}},data(){return{showComments:!1,newComment:""}},methods:{formatTime(c){const e=new Date(c),m=new Date-e,d=Math.floor(m/6e4),a=Math.floor(m/36e5),s=Math.floor(m/864e5);return d<60?`${d} –º–∏–Ω –Ω–∞–∑–∞–¥`:a<24?`${a} —á –Ω–∞–∑–∞–¥`:s<7?`${s} –¥ –Ω–∞–∑–∞–¥`:e.toLocaleDateString()},toggleLike(){this.$emit("like",this.post.id)},toggleComments(){this.showComments=!this.showComments,this.showComments||this.$emit("comment",this.post.id)},sharePost(){navigator.share?navigator.share({title:this.post.title,text:this.post.content,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!"))},toggleSave(){this.post.isSaved=!this.post.isSaved},playTrack(c){console.log("Playing:",c)},showMedia(){console.log("Show media")},addComment(){if(this.newComment.trim()){const c={id:Date.now(),author:{name:"–í—ã",avatar:"https://i.pravatar.cc/150?img=1"},time:"–¢–æ–ª—å–∫–æ —á—Ç–æ",text:this.newComment};this.post.comments.push(c),this.post.comments_count++,this.newComment=""}},toggleOptions(){console.log("Show options")}}},f={class:"post-header"},b=["src"],p={class:"post-meta"},y={class:"author-info"},x={class:"author-name"},S={key:0,class:"author-badge"},M={class:"post-time"},P={class:"post-content"},D={class:"post-title"},L={class:"post-text"},T={key:0,class:"track-preview"},O={class:"track-info"},V=["src"],A={class:"track-details"},B={class:"post-tags"},F={class:"post-type"},K={key:1,class:"post-media"},N=["src"],j={class:"post-actions"},q={key:0,class:"comments-section"},z={class:"comments-list"},E=["src"],I={class:"comment-content"},U={class:"comment-header"},G={class:"comment-author"},H={class:"comment-time"},J={class:"comment-text"},Q={class:"add-comment"};function R(c,e,o,m,d,a){return l(),i("div",{class:h(["post-card",{featured:o.post.isFeatured}])},[t("div",f,[t("img",{src:o.post.author.avatar,class:"author-avatar",alt:"Avatar"},null,8,b),t("div",p,[t("div",y,[t("span",x,n(o.post.author.name),1),o.post.author.isVerified?(l(),i("span",S,"‚úì")):r("",!0)]),t("span",M,n(a.formatTime(o.post.created_at)),1)]),t("button",{class:"more-btn",onClick:e[0]||(e[0]=(...s)=>a.toggleOptions&&a.toggleOptions(...s))},"‚ãÆ")]),t("div",P,[t("h3",D,n(o.post.title),1),t("p",L,n(o.post.content),1),o.post.track?(l(),i("div",T,[t("div",O,[t("img",{src:o.post.track.album_art,class:"album-art",alt:"Album"},null,8,V),t("div",A,[t("strong",null,n(o.post.track.name),1),t("span",null,n(o.post.track.artist),1)])]),t("button",{class:"play-btn",onClick:e[1]||(e[1]=s=>a.playTrack(o.post.track))},"‚ñ∂Ô∏è")])):r("",!0),t("div",B,[t("span",F,n(o.post.type),1),(l(!0),i(u,null,_(o.post.tags,s=>(l(),i("span",{class:"tag",key:s},"#"+n(s),1))),128))]),o.post.media?(l(),i("div",K,[t("img",{src:o.post.media,alt:"Media",onClick:e[2]||(e[2]=(...s)=>a.showMedia&&a.showMedia(...s))},null,8,N)])):r("",!0)]),t("div",j,[t("button",{class:h(["action-btn like-btn",{liked:o.post.isLiked}]),onClick:e[3]||(e[3]=(...s)=>a.toggleLike&&a.toggleLike(...s))}," ‚ù§Ô∏è "+n(o.post.likes_count),3),t("button",{class:"action-btn comment-btn",onClick:e[4]||(e[4]=(...s)=>a.toggleComments&&a.toggleComments(...s))}," üí¨ "+n(o.post.comments_count),1),t("button",{class:"action-btn share-btn",onClick:e[5]||(e[5]=(...s)=>a.sharePost&&a.sharePost(...s))},"‚Ü™Ô∏è –ü–æ–¥–µ–ª–∏—Ç—å—Å—è"),t("button",{class:h(["action-btn save-btn",{saved:o.post.isSaved}]),onClick:e[6]||(e[6]=(...s)=>a.toggleSave&&a.toggleSave(...s))},n(o.post.isSaved?"‚òÖ":"‚òÜ"),3)]),d.showComments?(l(),i("div",q,[t("div",z,[(l(!0),i(u,null,_(o.post.comments,s=>(l(),i("div",{key:s.id,class:"comment"},[t("img",{src:s.author.avatar,class:"comment-avatar",alt:"Avatar"},null,8,E),t("div",I,[t("div",U,[t("span",G,n(s.author.name),1),t("span",H,n(s.time),1)]),t("p",J,n(s.text),1)])]))),128))]),t("div",Q,[v(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=s=>d.newComment=s),placeholder:"–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...",onKeyup:e[8]||(e[8]=C((...s)=>a.addComment&&a.addComment(...s),["enter"]))},null,544),[[k,d.newComment]]),t("button",{onClick:e[9]||(e[9]=(...s)=>a.addComment&&a.addComment(...s))},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å")])])):r("",!0)],2)}const X=g(w,[["render",R],["__scopeId","data-v-c4e45d1b"]]);export{X as P};
